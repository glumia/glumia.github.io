<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=HandheldFriendly content="True">
<meta name=MobileOptimized content="320">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta property="twitter:site" content="@glumia8">
<meta property="og:site_name" content="glumia's blog">
<meta property="og:locale" content="en-US">
<meta property="og:type" content="article">
<meta property="og:url" content="https://glumia.dev/blog/clojure-python-c-three-programming-languages-one-algorithm/">
<meta property="og:title" content="Clojure, Python, C: three programming languages, one algorithm">
<meta property="twitter:title" content="Clojure, Python, C: three programming languages, one algorithm">
<meta property="twitter:card" content="summary">
<meta property="og:description" content>
<meta property="twitter:description" content>
<title>
glumia's blog - Clojure, Python, C: three programming languages, one algorithm
</title>
<link rel=canonical href=https://glumia.dev/blog/clojure-python-c-three-programming-languages-one-algorithm/>
<link rel=stylesheet media=screen href=https://glumia.dev/main.min.344b18e53f6dc95dfb28120d4a8b13b71ea4ec54afb2363c6b19a36e9c112730.css>
<link rel=stylesheet media="(min-width: 600px)" href=https://glumia.dev/min600px.min.29a702a8deedd7ff0f3a8d63ebd113a0465676f50b06744470127a8897d198de.css>
<link rel="shortcut icon" href=https://glumia.dev/favicon-32x32.png>
</head>
<body>
<div class="header column">
<div class=container>
<a href=https://glumia.dev/><img class=logo src=https://glumia.dev/logo_glumia_512.jpg alt=logo></a>
<div class=content>
<a href=https://glumia.dev/><div class=name><h1>glumia's blog</h1></div></a>
<nav>
<ul>
<li><a href=https://glumia.dev/blog/>Posts</a></li>
<li><a href=https://glumia.dev/about/>About</a></li>
<li><a href=https://glumia.dev/reading_list/>Reading list</a></li>
</ul>
</nav>
</div>
</div>
</div>
<div class="main post non-narrow zero-top-spacing column">
<div class=container>
<div class=content>
<div class=front-matter>
<div class=title-container>
<div class=page-heading>
Clojure, Python, C: three programming languages, one algorithm
</div>
</div>
<div class=meta>
<div class=date title="Sun Jun 21 2020 00:00:00 UTC">Jun 21, 2020</div>
<div class="reading-time middot">1 minute read</div>
<div class=tags>
<ul>
<li class=middot><a href=https://glumia.dev/tags/python>python</a> </li>
<li class=middot><a href=https://glumia.dev/tags/clojure>clojure</a> </li>
<li class=middot><a href=https://glumia.dev/tags/c>c</a> </li>
<li class=middot><a href=https://glumia.dev/tags/math>math</a> </li>
<li class=middot><a href=https://glumia.dev/tags/programming>programming</a> </li>
</ul>
</div>
<div class=tags>
<ul>
</ul>
</div>
</div>
</div>
<div class=markdown>
<p><img src=https://glumia.dev/blog/clojure-python-c-three-programming-languages-one-algorithm/comparison.png alt=image></p>
<p>Too lazy to write something long and well thought now <code>¯\_(ツ)_/¯</code></p>
<p>Just a bit disappointed by how bad Clojure&rsquo;s performance are (<em>but hey,
immutability is not free!</em>) and by how damn difficult it is to improve them.</p>
<h4 id=update-230620>Update 23/06/20</h4>
<p>I found out that the timing of the C version goes down to ~2ms if I just
declare the variables as <em>int</em> and not <em>unsigned int</em>. That&rsquo;s amazing!</p>
<h4 id=update-090121>Update 09/01/21</h4>
<p>Half I year later I finally know why the version with signed integers actually
takes less than the version with unsigned ints.</p>
<p>It&rsquo;s caused by C compiler&rsquo;s
optimizations: for signed integers it doesn&rsquo;t need to generate assembly code
to handle overflows (because it&rsquo;s declared undefined behaviour in the standard)
while it has to do it for unsigned integers (that are defined to wrap).</p>
<p>Check <a href=https://nullprogram.com/blog/2018/07/20/>The Value of Undefined
Behavior</a> for more info about this topic.</p>
<p>Source:
<a href=https://glumia.dev/blog/clojure-python-c-three-programming-languages-one-algorithm/naive_compute_primes.clj>Clojure</a>,
<a href=https://glumia.dev/blog/clojure-python-c-three-programming-languages-one-algorithm/naive_compute_primes.py>Python</a>,
<a href=https://glumia.dev/blog/clojure-python-c-three-programming-languages-one-algorithm/naive_compute_primes.c>C</a></p>
</div>
<br>
<div class=navigation>
<div>
<img class=icon src=https://glumia.dev/img/back.svg alt=back>
<a href=https://glumia.dev/blog/the-levenshtein-distance/>The Levenshtein Distance</a>
</div>
<div style=width:100%></div>
<div>
<a href=https://glumia.dev/blog/codility-part-1-and-probably-last-until-ill-get-back-to-job-hunting/>Codility - Part 1 (and probably last, until I'll get back to job hunting)</a>
<img class=icon src=https://glumia.dev/img/next.svg alt=next>
</div>
</div>
</div>
</div>
</div>
<div class="footer column">
<div class=container>
<div class=copyright>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA 4.0 © 2021 Giuseppe Lumia</a>
</div>
<div class=icons>
<a href=https://github.com/glumia rel=me target=_blank>
<img class=icon src=https://glumia.dev/img/github.svg alt=github>
</a>
<a href=https://twitter.com/glumia8 rel=me target=_blank>
<img class=icon src=https://glumia.dev/img/twitter.svg alt=twitter>
</a>
<a href=https://www.linkedin.com/in/glumia rel=me target=_blank>
<img class=icon src=https://glumia.dev/img/linkedin.svg alt=linkedin>
</a>
<a href=mailto:gius@glumia.dev>
<img class=icon src=https://glumia.dev/img/email.svg alt=email>
</a>
<a href=https://glumia.dev/index.xml>
<img class=icon src=https://glumia.dev/img/rss.svg alt=rss>
</a>
</div>
</div>
</div>
</body>
</html>